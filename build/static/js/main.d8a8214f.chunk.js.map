{"version":3,"sources":["Callback/loading.svg","App.js","Home/Home.js","Callback/Callback.js","history.js","Auth/auth0-variables.js","routes.js","Auth/Auth.js","index.js"],"names":["module","exports","__webpack_require__","p","App","route","this","props","history","replace","concat","auth","login","logout","renewSession","localStorage","getItem","isAuthenticated","react_default","a","createElement","es","fluid","Header","Brand","href","bsStyle","className","onClick","goTo","bind","id","Component","Home","style","cursor","Callback","position","display","justifyContent","height","width","top","bottom","left","right","backgroundColor","src","loading","alt","createHistory","AUTH_CONFIG","domain","clientId","callbackUrl","Auth","Object","classCallCheck","auth0","WebAuth","clientID","redirectUri","responseType","scope","handleAuthentication","getAccessToken","getIdToken","authorize","_this","parseHash","err","authResult","accessToken","idToken","setSession","console","log","alert","error","setItem","expiresAt","expiresIn","Date","getTime","_this2","checkSession","error_description","removeItem","returnTo","window","location","origin","routes","react_router","path","render","src_App_0","assign","src_Home_Home","_ref","test","hash","src_Callback_Callback","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.d8a8214f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.c5590569.svg\";","import React, { Component } from 'react';\nimport { Navbar, Button } from 'react-bootstrap';\nimport './App.css';\n\nclass App extends Component {\n  goTo(route) {\n    this.props.history.replace(`/${route}`)\n  }\n\n  login() {\n    this.props.auth.login();\n  }\n\n  logout() {\n    this.props.auth.logout();\n  }\n\n  componentDidMount() {\n    const { renewSession } = this.props.auth;\n\n    if (localStorage.getItem('isLoggedIn') === 'true') {\n      renewSession();\n    }\n  }\n\n  render() {\n    const { isAuthenticated } = this.props.auth;\n\n    return (\n      <div>\n        <Navbar fluid>\n          <Navbar.Header>\n            <Navbar.Brand>\n              <a href=\"#\">Auth0 - React</a>\n            </Navbar.Brand>\n            <Button\n              bsStyle=\"primary\"\n              className=\"btn-margin\"\n              onClick={this.goTo.bind(this, 'home')}\n            >\n              Home\n            </Button>\n            {\n              !isAuthenticated() && (\n                  <Button\n                    id=\"qsLoginBtn\"\n                    bsStyle=\"primary\"\n                    className=\"btn-margin\"\n                    onClick={this.login.bind(this)}\n                  >\n                    Log In\n                  </Button>\n                )\n            }\n            {\n              isAuthenticated() && (\n                  <Button\n                    id=\"qsLogoutBtn\"\n                    bsStyle=\"primary\"\n                    className=\"btn-margin\"\n                    onClick={this.logout.bind(this)}\n                  >\n                    Log Out\n                  </Button>\n                )\n            }\n          </Navbar.Header>\n        </Navbar>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React, { Component } from 'react';\n\nclass Home extends Component {\n  login() {\n    this.props.auth.login();\n  }\n  render() {\n    const { isAuthenticated } = this.props.auth;\n    return (\n      <div className=\"container\">\n        {\n          isAuthenticated() && (\n              <h4>\n                You are logged in!\n              </h4>\n            )\n        }\n        {\n          !isAuthenticated() && (\n              <h4>\n                You are not logged in! Please{' '}\n                <a style={{ cursor: 'pointer' }}\n                  onClick={this.login.bind(this)}>\n                  Log In\n                </a>\n                {' '}to continue.\n              </h4>\n            )\n        }\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport loading from './loading.svg';\n\nclass Callback extends Component {\n  render() {\n    const style = {\n      position: 'absolute',\n      display: 'flex',\n      justifyContent: 'center',\n      height: '100vh',\n      width: '100vw',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      backgroundColor: 'white',\n    }\n\n    return (\n      <div style={style}>\n        <img src={loading} alt=\"loading\"/>\n      </div>\n    );\n  }\n}\n\nexport default Callback;\n","import createHistory from 'history/createBrowserHistory'\n\nexport default createHistory()\n","export const AUTH_CONFIG = {\n  domain: 'swayze-life.auth0.com',\n  clientId: '3237tHxIbOFSjLyJKDQU7wR76eafmWoc',\n  callbackUrl: 'http://localhost:3000/callback'\n}\n","import React from 'react';\nimport { Route, Router } from 'react-router-dom';\nimport App from './App';\nimport Home from './Home/Home';\nimport Callback from './Callback/Callback';\nimport Auth from './Auth/Auth';\nimport history from './history';\n\nconst auth = new Auth();\n\nconst handleAuthentication = ({location}) => {\n  if (/access_token|id_token|error/.test(location.hash)) {\n    auth.handleAuthentication();\n  }\n}\n\nexport const makeMainRoutes = () => {\n  return (\n      <Router history={history}>\n        <div>\n          <Route path=\"/\" render={(props) => <App auth={auth} {...props} />} />\n          <Route path=\"/home\" render={(props) => <Home auth={auth} {...props} />} />\n          <Route path=\"/callback\" render={(props) => {\n            handleAuthentication(props);\n            return <Callback {...props} /> \n          }}/>\n        </div>\n      </Router>\n  );\n}\n","import history from '../history';\nimport auth0 from 'auth0-js';\nimport { AUTH_CONFIG } from './auth0-variables';\n\nexport default class Auth {\n  accessToken;\n  idToken;\n  expiresAt;\n\n  auth0 = new auth0.WebAuth({\n    domain: AUTH_CONFIG.domain,\n    clientID: AUTH_CONFIG.clientId,\n    redirectUri: AUTH_CONFIG.callbackUrl,\n    responseType: 'token id_token',\n    scope: 'openid'\n  });\n\n  constructor() {\n    this.login = this.login.bind(this);\n    this.logout = this.logout.bind(this);\n    this.handleAuthentication = this.handleAuthentication.bind(this);\n    this.isAuthenticated = this.isAuthenticated.bind(this);\n    this.getAccessToken = this.getAccessToken.bind(this);\n    this.getIdToken = this.getIdToken.bind(this);\n    this.renewSession = this.renewSession.bind(this);\n  }\n\n  login() {\n    this.auth0.authorize();\n  }\n\n  handleAuthentication() {\n    this.auth0.parseHash((err, authResult) => {\n      if (authResult && authResult.accessToken && authResult.idToken) {\n        this.setSession(authResult);\n      } else if (err) {\n        history.replace('/home');\n        console.log(err);\n        alert(`Error: ${err.error}. Check the console for further details.`);\n      }\n    });\n  }\n\n  getAccessToken() {\n    return this.accessToken;\n  }\n\n  getIdToken() {\n    return this.idToken;\n  }\n\n  setSession(authResult) {\n    // Set isLoggedIn flag in localStorage\n    localStorage.setItem('isLoggedIn', 'true');\n\n    // Set the time that the access token will expire at\n    let expiresAt = (authResult.expiresIn * 1000) + new Date().getTime();\n    this.accessToken = authResult.accessToken;\n    this.idToken = authResult.idToken;\n    this.expiresAt = expiresAt;\n\n    // navigate to the home route\n    history.replace('/home');\n  }\n\n  renewSession() {\n    this.auth0.checkSession({}, (err, authResult) => {\n       if (authResult && authResult.accessToken && authResult.idToken) {\n         this.setSession(authResult);\n       } else if (err) {\n         this.logout();\n         console.log(err);\n         alert(`Could not get a new token (${err.error}: ${err.error_description}).`);\n       }\n    });\n  }\n\n  logout() {\n    // Remove tokens and expiry time\n    this.accessToken = null;\n    this.idToken = null;\n    this.expiresAt = 0;\n\n    // Remove isLoggedIn flag from localStorage\n    localStorage.removeItem('isLoggedIn');\n\n    this.auth0.logout({\n      returnTo: window.location.origin\n    });\n\n    // navigate to the home route\n    history.replace('/home');\n  }\n\n  isAuthenticated() {\n    // Check whether the current time is past the\n    // access token's expiry time\n    let expiresAt = this.expiresAt;\n    return new Date().getTime() < expiresAt;\n  }\n}\n","import ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport { makeMainRoutes } from './routes';\n\nconst routes = makeMainRoutes();\n\nReactDOM.render(\n  routes,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}