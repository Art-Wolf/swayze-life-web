(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports=n.p+"static/media/loading.c5590569.svg"},110:function(e,t,n){e.exports=n(201)},115:function(e,t,n){},192:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var i=n(9),o=n.n(i),a=(n(115),n(116),n(1)),s=n.n(a),c=n(203),r=n(22),l=n(23),u=n(40),h=n(39),d=n(41),g=n(30),m=(n(192),function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"goTo",value:function(e){this.props.history.replace("/".concat(e))}},{key:"login",value:function(){this.props.auth.login()}},{key:"logout",value:function(){this.props.auth.logout()}},{key:"componentDidMount",value:function(){var e=this.props.auth.renewSession;"true"===localStorage.getItem("isLoggedIn")&&e()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return s.a.createElement("div",null,s.a.createElement(g.b,{fluid:!0},s.a.createElement(g.b.Header,null,s.a.createElement(g.b.Brand,null,s.a.createElement("a",{href:"#"},"Auth0 - React")),s.a.createElement(g.a,{bsStyle:"primary",className:"btn-margin",onClick:this.goTo.bind(this,"home")},"Home"),!e()&&s.a.createElement(g.a,{id:"qsLoginBtn",bsStyle:"primary",className:"btn-margin",onClick:this.login.bind(this)},"Log In"),e()&&s.a.createElement(g.a,{id:"qsLogoutBtn",bsStyle:"primary",className:"btn-margin",onClick:this.logout.bind(this)},"Log Out"))))}}]),t}(a.Component)),p=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"login",value:function(){this.props.auth.login()}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return s.a.createElement("div",{className:"container"},e()&&s.a.createElement("h4",null,"You are logged in!"),!e()&&s.a.createElement("h4",null,"You are not logged in! Please"," ",s.a.createElement("a",{style:{cursor:"pointer"},onClick:this.login.bind(this)},"Log In")," ","to continue."))}}]),t}(a.Component),k=n(105),b=n.n(k),f=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:{position:"absolute",display:"flex",justifyContent:"center",height:"100vh",width:"100vw",top:0,bottom:0,left:0,right:0,backgroundColor:"white"}},s.a.createElement("img",{src:b.a,alt:"loading"}))}}]),t}(a.Component),y=n(106),v=n.n(y)()(),E=n(107),T={domain:"swayze-life.auth0.com",clientId:"3237tHxIbOFSjLyJKDQU7wR76eafmWoc",callbackUrl:"http://localhost:3000/callback"},w=new(function(){function e(){Object(r.a)(this,e),this.auth0=new E.a.WebAuth({domain:T.domain,clientID:T.clientId,redirectUri:T.callbackUrl,responseType:"token id_token",scope:"openid"}),this.login=this.login.bind(this),this.logout=this.logout.bind(this),this.handleAuthentication=this.handleAuthentication.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.getAccessToken=this.getAccessToken.bind(this),this.getIdToken=this.getIdToken.bind(this),this.renewSession=this.renewSession.bind(this)}return Object(l.a)(e,[{key:"login",value:function(){this.auth0.authorize()}},{key:"handleAuthentication",value:function(){var e=this;this.auth0.parseHash(function(t,n){n&&n.accessToken&&n.idToken?e.setSession(n):t&&(v.replace("/home"),console.log(t),alert("Error: ".concat(t.error,". Check the console for further details.")))})}},{key:"getAccessToken",value:function(){return this.accessToken}},{key:"getIdToken",value:function(){return this.idToken}},{key:"setSession",value:function(e){localStorage.setItem("isLoggedIn","true");var t=1e3*e.expiresIn+(new Date).getTime();this.accessToken=e.accessToken,this.idToken=e.idToken,this.expiresAt=t,v.replace("/home")}},{key:"renewSession",value:function(){var e=this;this.auth0.checkSession({},function(t,n){n&&n.accessToken&&n.idToken?e.setSession(n):t&&(e.logout(),console.log(t),alert("Could not get a new token (".concat(t.error,": ").concat(t.error_description,").")))})}},{key:"logout",value:function(){this.accessToken=null,this.idToken=null,this.expiresAt=0,localStorage.removeItem("isLoggedIn"),this.auth0.logout({returnTo:window.location.origin}),v.replace("/home")}},{key:"isAuthenticated",value:function(){var e=this.expiresAt;return(new Date).getTime()<e}}]),e}()),j=s.a.createElement(c.b,{history:v},s.a.createElement("div",null,s.a.createElement(c.a,{path:"/",render:function(e){return s.a.createElement(m,Object.assign({auth:w},e))}}),s.a.createElement(c.a,{path:"/home",render:function(e){return s.a.createElement(p,Object.assign({auth:w},e))}}),s.a.createElement(c.a,{path:"/callback",render:function(e){return function(e){var t=e.location;/access_token|id_token|error/.test(t.hash)&&w.handleAuthentication()}(e),s.a.createElement(f,e)}})));o.a.render(j,document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.d8a8214f.chunk.js.map